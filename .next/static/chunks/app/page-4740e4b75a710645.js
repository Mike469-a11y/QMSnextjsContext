(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},7108:(e,a,s)=>{Promise.resolve().then(s.bind(s,9374))},9374:(e,a,s)=>{"use strict";s.d(a,{default:()=>m});var t=s(5155),l=s(2115),r=s(5695);let n="2025-07-28 21:33:04",i="MFakheem",c=new Date().toISOString().slice(0,10),m=()=>{let[e,a]=(0,l.useState)("search"),[s,m]=(0,l.useState)({fromDate:"",toDate:"",portalName:"",bidNumber:"",hunterName:""}),[o,d]=(0,l.useState)([]),[u,h]=(0,l.useState)([]),[N,p]=(0,l.useState)({id:"",date:c,portalName:"",portalLink:"",bidNumber:"",bidTitle:"",category:"",quantity:"",timeStamp:"",dueDate:"",contactName:"",email:"",huntingRemarks:"",hunterName:""}),[x,f]=(0,l.useState)(!1),[j,b]=(0,l.useState)(null),g=(0,r.useRouter)();(0,r.usePathname)(),(0,l.useEffect)(()=>{let e=localStorage.getItem("huntingEntries");if(e){let a=JSON.parse(e);d(a),h(a)}},[]),(0,l.useEffect)(()=>{var e;if("hunting"===new URLSearchParams(location.search).get("section")&&a("search"),null==(e=location.state)?void 0:e.editEntry){let e=location.state.editEntry;p(e),f(!0),b(e.id),a("add"),window.history.replaceState({},document.title)}},[location]);let v=e=>{let{name:a,value:s}=e.target;m(e=>({...e,[a]:s}))},D=()=>{h(o.filter(e=>{let{fromDate:a,toDate:t,portalName:l,bidNumber:r,hunterName:n}=s,i=new Date(e.date),c=!a||new Date(a)<=i,m=!t||i<=new Date(t),o=!l||e.portalName.toLowerCase().includes(l.toLowerCase()),d=!r||e.bidNumber.toLowerCase().includes(r.toLowerCase()),u=!n||e.hunterName&&e.hunterName.toLowerCase().includes(n.toLowerCase());return c&&m&&o&&d&&u}))},y=e=>{let{name:a,value:s}=e.target;p(e=>({...e,[a]:s}))};return(0,t.jsxs)("div",{className:"qms-container",children:[(0,t.jsx)("div",{className:"qms-header",children:(0,t.jsxs)("div",{className:"header-content",children:[(0,t.jsxs)("div",{className:"header-left",children:[(0,t.jsxs)("h1",{children:["QMS - ","search"===e?"Search Entry":x?"Edit Entry":"Add New Entry"]}),(0,t.jsx)("p",{children:"search"===e?"Search and manage your QMS entries":x?"Edit QMS entry ".concat(j):"Create a new QMS entry"})]}),(0,t.jsx)("div",{className:"header-right",children:(0,t.jsxs)("div",{className:"user-info",children:[(0,t.jsxs)("span",{children:["Current User: ",(0,t.jsx)("strong",{children:i})]}),(0,t.jsxs)("span",{children:["Date: ",(0,t.jsxs)("strong",{children:[n," UTC"]})]})]})})]})}),(0,t.jsx)("div",{className:"qms-controls",children:(0,t.jsxs)("div",{className:"qms-actions",children:[(0,t.jsx)("button",{onClick:()=>a("search"),className:"search"===e?"btn-primary":"btn-secondary",children:"\uD83D\uDD0D Search"}),(0,t.jsx)("button",{onClick:()=>{a("add"),x&&(f(!1),b(null),p({id:"",date:c,portalName:"",portalLink:"",bidNumber:"",bidTitle:"",category:"",quantity:"",timeStamp:"",dueDate:"",contactName:"",email:"",huntingRemarks:"",hunterName:""}))},className:"add"!==e||x?"btn-secondary":"btn-primary",children:"➕ Add New"})]})}),"search"===e&&(0,t.jsxs)("div",{className:"qms-search-container",children:[(0,t.jsxs)("div",{className:"qms-search-form",children:[(0,t.jsxs)("form",{className:"search-form-grid",onSubmit:e=>{e.preventDefault(),D()},autoComplete:"off",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"From Date"}),(0,t.jsx)("input",{name:"fromDate",type:"date",className:"form-input",value:s.fromDate,onChange:v})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"To Date"}),(0,t.jsx)("input",{name:"toDate",type:"date",className:"form-input",value:s.toDate,onChange:v})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Portal Name"}),(0,t.jsx)("input",{name:"portalName",placeholder:"Portal Name",className:"form-input",value:s.portalName,onChange:v})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Bid Number"}),(0,t.jsx)("input",{name:"bidNumber",placeholder:"Bid Number",className:"form-input",value:s.bidNumber,onChange:v})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Hunter Name"}),(0,t.jsx)("input",{name:"hunterName",placeholder:"Hunter Name",className:"form-input",value:s.hunterName,onChange:v})]})]}),(0,t.jsxs)("div",{className:"search-form-actions",children:[(0,t.jsx)("button",{type:"submit",className:"btn-search",onClick:D,children:"\uD83D\uDD0D Search Entries"}),(0,t.jsx)("button",{type:"button",className:"btn-reset",onClick:()=>{m({fromDate:"",toDate:"",portalName:"",bidNumber:"",hunterName:""}),h(o)},children:"\uD83D\uDD04 Reset"})]})]}),(0,t.jsx)("div",{className:"qms-list-container",children:(0,t.jsxs)("table",{className:"qms-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Date"}),(0,t.jsx)("th",{children:"Portal Name"}),(0,t.jsx)("th",{children:"Bid Number"}),(0,t.jsx)("th",{children:"Hunter Name"}),(0,t.jsx)("th",{children:"Time Stamp"}),(0,t.jsx)("th",{children:"Due Date"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:u.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.date}),(0,t.jsx)("td",{children:e.portalName}),(0,t.jsx)("td",{children:e.bidNumber}),(0,t.jsx)("td",{children:e.hunterName||"N/A"}),(0,t.jsx)("td",{children:e.timeStamp}),(0,t.jsx)("td",{children:e.dueDate}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"action-buttons",children:[(0,t.jsx)("button",{className:"btn-view",onClick:()=>{let a;return a=e.id,g.push("/qms/".concat(a))},title:"View Details",children:"View"}),(0,t.jsx)("button",{className:"btn-delete",onClick:()=>(e=>{if(!window.confirm("Are you sure you want to delete this entry from Hunting? Note: This will NOT delete it from other sections."))return;let a=o.filter(a=>a.id!==e);d(a),h(u.filter(a=>a.id!==e)),localStorage.setItem("huntingEntries",JSON.stringify(a)),alert("Entry ".concat(e," deleted from Hunting section only."))})(e.id),title:"Delete Entry from Hunting only",children:"\uD83D\uDDD1️ Delete"})]})})]},e.id))})]})})]}),"add"===e&&(0,t.jsx)("div",{className:"qms-add-container",children:(0,t.jsx)("div",{className:"qms-add-form",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{let e;if(!N.date||!N.portalName||!N.bidNumber)return alert("Please fill all required fields.");if(x){let a={...N,lastModified:n,lastModifiedBy:i};e=o.map(e=>e.id===j?a:e),alert("Entry updated successfully!")}else{let a=(()=>{let e=o.length?parseInt(o[o.length-1].id.slice(1)):0;return"Q".concat((e+1).toString().padStart(4,"0"))})();e=[...o,{...N,id:a,createdAt:n,createdBy:i}],alert("Entry added successfully!")}d(e),h(e),localStorage.setItem("huntingEntries",JSON.stringify(e));let s=localStorage.getItem("assignmentEntries"),t=s?JSON.parse(s):[];if(x){let a=e.find(e=>e.id===j);t=t.map(e=>e.id===j?a:e)}else{let a=e[e.length-1];t.push(a)}localStorage.setItem("assignmentEntries",JSON.stringify(t)),p({id:"",date:c,portalName:"",portalLink:"",bidNumber:"",bidTitle:"",category:"",quantity:"",timeStamp:"",dueDate:"",contactName:"",email:"",huntingRemarks:"",hunterName:""}),f(!1),b(null),a("search")})()},autoComplete:"off",children:[(0,t.jsxs)("div",{className:"form-section",children:[(0,t.jsxs)("h3",{children:[(0,t.jsx)("span",{className:"form-section-icon",children:"\uD83D\uDCDD"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"add-form-grid",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Date *"}),(0,t.jsx)("input",{name:"date",type:"date",className:"form-input",value:N.date,onChange:y,required:!0,readOnly:!x,style:x?{}:{background:"#f3f4f6",color:"#555",cursor:"not-allowed"}})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Portal Name *"}),(0,t.jsx)("input",{name:"portalName",placeholder:"Portal Name",className:"form-input",value:N.portalName,onChange:y,required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Portal Link"}),(0,t.jsx)("input",{name:"portalLink",placeholder:"Portal Link",className:"form-input",value:N.portalLink,onChange:y})]})]})]}),(0,t.jsxs)("div",{className:"form-section",children:[(0,t.jsxs)("h3",{children:[(0,t.jsx)("span",{className:"form-section-icon",children:"\uD83D\uDCCB"}),"Bid Details"]}),(0,t.jsxs)("div",{className:"add-form-grid",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Bid Number *"}),(0,t.jsx)("input",{name:"bidNumber",placeholder:"Bid Number",className:"form-input",value:N.bidNumber,onChange:y,required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Bid Title"}),(0,t.jsx)("input",{name:"bidTitle",placeholder:"Bid Title",className:"form-input",value:N.bidTitle,onChange:y})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Category"}),(0,t.jsx)("input",{name:"category",placeholder:"Category",className:"form-input",value:N.category,onChange:y})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Quantity"}),(0,t.jsx)("input",{name:"quantity",placeholder:"Quantity",type:"number",min:"1",className:"form-input",value:N.quantity,onChange:y})]})]})]}),(0,t.jsxs)("div",{className:"form-section",children:[(0,t.jsxs)("h3",{children:[(0,t.jsx)("span",{className:"form-section-icon",children:"\uD83D\uDCC5"}),"Timeline"]}),(0,t.jsxs)("div",{className:"add-form-grid",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Time Stamp"}),(0,t.jsx)("input",{name:"timeStamp",type:"date",className:"form-input",value:N.timeStamp,onChange:y})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Due Date"}),(0,t.jsx)("input",{name:"dueDate",type:"date",className:"form-input",value:N.dueDate,onChange:y})]})]})]}),(0,t.jsxs)("div",{className:"form-section",children:[(0,t.jsxs)("h3",{children:[(0,t.jsx)("span",{className:"form-section-icon",children:"\uD83D\uDC64"}),"Contact Information"]}),(0,t.jsxs)("div",{className:"add-form-grid",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Hunter Name"}),(0,t.jsx)("input",{name:"hunterName",placeholder:"Hunter Name",className:"form-input",value:N.hunterName,onChange:y})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Contact Name"}),(0,t.jsx)("input",{name:"contactName",placeholder:"Contact Name",className:"form-input",value:N.contactName,onChange:y})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Email"}),(0,t.jsx)("input",{name:"email",type:"email",placeholder:"Email",className:"form-input",value:N.email,onChange:y})]})]})]}),(0,t.jsxs)("div",{className:"form-section",children:[(0,t.jsxs)("h3",{children:[(0,t.jsx)("span",{className:"form-section-icon",children:"\uD83D\uDCAC"}),"Additional Notes"]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Hunting Remarks"}),(0,t.jsx)("textarea",{name:"huntingRemarks",placeholder:"Hunting Remarks",className:"form-textarea",value:N.huntingRemarks,onChange:y,rows:4})]})]}),(0,t.jsxs)("div",{className:"add-form-actions",children:[(0,t.jsx)("button",{type:"submit",className:"btn-save",children:x?"\uD83D\uDCBE Update Entry":"\uD83D\uDCBE Save Entry"}),(0,t.jsx)("button",{type:"button",className:"btn-cancel",onClick:()=>{p({id:"",date:c,portalName:"",portalLink:"",bidNumber:"",bidTitle:"",category:"",quantity:"",timeStamp:"",dueDate:"",contactName:"",email:"",huntingRemarks:"",hunterName:""}),f(!1),b(null),a("search")},children:"❌ Cancel"})]})]})})})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=7108)),_N_E=e.O()}]);