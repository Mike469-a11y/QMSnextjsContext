(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{1361:(e,s,a)=>{Promise.resolve().then(a.bind(a,8785))},5695:(e,s,a)=>{"use strict";var l=a(8999);a.o(l,"usePathname")&&a.d(s,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}})},8785:(e,s,a)=>{"use strict";a.d(s,{default:()=>t});var l=a(5155),i=a(2115),n=a(5695);let t=e=>{let{params:s}=e,a=(0,n.useRouter)(),t=null==s?void 0:s.id,[c,d]=(0,i.useState)(null),[r,m]=(0,i.useState)(!0),[o,h]=(0,i.useState)(null),[N,u]=(0,i.useState)(""),x="2025-07-28 21:45:14",j="MFakheem";(0,i.useEffect)(()=>{let e=async()=>{try{m(!0),h(null);let e=null,s="",a=localStorage.getItem("qmsEntries");if(a&&(e=JSON.parse(a).find(e=>e.id===t))&&(s="Assignment"),!e){let a=localStorage.getItem("sourcingEntries");a&&(e=JSON.parse(a).find(e=>e.id===t))&&(s="Sourcing")}if(!e)throw Error("No entry found for QMS ID: ".concat(t," in either Assignment or Sourcing data"));d(e),u(s),console.log("Found entry ".concat(t," in ").concat(s," data:"),e)}catch(e){h(e.message)}finally{m(!1)}};t&&e()},[t]);let v=()=>a.back();if(r)return(0,l.jsxs)("div",{className:"qms-detail-loading",children:[(0,l.jsxs)("div",{className:"loading-spinner",children:[(0,l.jsx)("div",{className:"spinner-ring"}),(0,l.jsx)("div",{className:"spinner-ring"}),(0,l.jsx)("div",{className:"spinner-ring"})]}),(0,l.jsx)("h3",{children:"Loading QMS Details..."}),(0,l.jsx)("p",{children:"Please wait while we fetch the information"})]});if(o)return(0,l.jsxs)("div",{className:"qms-detail-container",children:[(0,l.jsx)("div",{className:"qms-detail-header error-header",children:(0,l.jsxs)("div",{className:"header-content",children:[(0,l.jsxs)("div",{className:"header-left",children:[(0,l.jsx)("h1",{children:"⚠️ Error Loading Details"}),(0,l.jsx)("p",{children:"Failed to load QMS entry information"})]}),(0,l.jsxs)("div",{className:"header-right",children:[(0,l.jsxs)("div",{className:"user-info",children:[(0,l.jsxs)("span",{children:["Current User: ",(0,l.jsx)("strong",{children:j})]}),(0,l.jsxs)("span",{children:["Date: ",(0,l.jsxs)("strong",{children:[x," UTC"]})]})]}),(0,l.jsx)("div",{className:"header-actions",children:(0,l.jsx)("button",{onClick:v,className:"btn btn-back",children:"← Back"})})]})]})}),(0,l.jsx)("div",{className:"qms-detail-content",children:(0,l.jsxs)("div",{className:"error-section",children:[(0,l.jsx)("div",{className:"error-icon",children:"❌"}),(0,l.jsx)("h3",{children:"Entry Not Found"}),(0,l.jsx)("p",{children:o}),(0,l.jsx)("button",{onClick:v,className:"btn btn-primary",children:"Go Back"})]})})]});let p=(e=>{let s=(e=>{if(!e)return null;let s=new Date;return Math.ceil((new Date(e)-s)/864e5)})(e);return null===s?null:s<0?{status:"overdue",text:"Overdue by ".concat(Math.abs(s)," days"),class:"status-overdue"}:0===s?{status:"today",text:"Due Today",class:"status-critical"}:s<=3?{status:"urgent",text:"".concat(s," days left"),class:"status-urgent"}:s<=7?{status:"soon",text:"".concat(s," days left"),class:"status-warning"}:{status:"normal",text:"".concat(s," days left"),class:"status-normal"}})(c.dueDate);return(0,l.jsxs)("div",{className:"qms-detail-container",children:[(0,l.jsx)("div",{className:"qms-detail-header",children:(0,l.jsxs)("div",{className:"header-content",children:[(0,l.jsxs)("div",{className:"header-left",children:[(0,l.jsx)("div",{className:"qms-id-badge",children:t}),(0,l.jsx)("h1",{children:"QMS Entry Details"}),(0,l.jsx)("p",{children:"Complete information and tracking for this QMS entry"}),(0,l.jsx)("div",{className:"data-source-badge",children:(0,l.jsxs)("span",{className:"source-indicator ".concat(N.toLowerCase()),children:["\uD83D\uDCC2 ",N," Section"]})})]}),(0,l.jsxs)("div",{className:"header-right",children:[(0,l.jsxs)("div",{className:"user-info",children:[(0,l.jsxs)("span",{children:["Current User: ",(0,l.jsx)("strong",{children:j})]}),(0,l.jsxs)("span",{children:["Date: ",(0,l.jsxs)("strong",{children:[x," UTC"]})]})]}),(0,l.jsxs)("div",{className:"header-actions",children:[(0,l.jsx)("button",{onClick:v,className:"btn btn-back",children:"← Back"}),(0,l.jsx)("button",{onClick:()=>{a.push("/?edit="+t)},className:"btn btn-edit",children:"✏️ Edit Entry"})]})]})]})}),(0,l.jsx)("div",{className:"qms-detail-content",children:(0,l.jsxs)("div",{className:"detail-sections",children:[(0,l.jsxs)("div",{className:"overview-card",children:[(0,l.jsxs)("div",{className:"overview-item",children:[(0,l.jsx)("span",{className:"overview-label",children:"Portal"}),(0,l.jsx)("span",{className:"overview-value",children:c.portalName||"N/A"})]}),(0,l.jsxs)("div",{className:"overview-item",children:[(0,l.jsx)("span",{className:"overview-label",children:"Bid Number"}),(0,l.jsx)("span",{className:"overview-value",children:c.bidNumber||"N/A"})]}),(0,l.jsxs)("div",{className:"overview-item",children:[(0,l.jsx)("span",{className:"overview-label",children:"Hunter"}),(0,l.jsx)("span",{className:"overview-value",children:c.hunterName||"Not Assigned"})]}),(0,l.jsxs)("div",{className:"overview-item",children:[(0,l.jsx)("span",{className:"overview-label",children:"Due Date"}),p?(0,l.jsx)("span",{className:"overview-value ".concat(p.class),children:p.text}):(0,l.jsx)("span",{className:"overview-value",children:"No due date set"})]})]}),(0,l.jsxs)("div",{className:"detail-section",children:[(0,l.jsxs)("h2",{className:"section-title",children:[(0,l.jsx)("span",{className:"section-icon",children:"\uD83D\uDCCB"}),"Basic Information"]}),(0,l.jsxs)("div",{className:"detail-grid",children:[(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"QMS ID"}),(0,l.jsx)("span",{className:"detail-value qms-id",children:c.id})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Date Created"}),(0,l.jsx)("span",{className:"detail-value",children:c.date?new Date(c.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Portal Name"}),(0,l.jsx)("span",{className:"detail-value portal-name",children:c.portalName||"N/A"})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Portal Link"}),(0,l.jsx)("span",{className:"detail-value",children:c.portalLink?(e=>{try{return new URL(e),!0}catch(e){return console.log(e),!1}})(c.portalLink)?(0,l.jsx)("a",{href:c.portalLink,target:"_blank",rel:"noopener noreferrer",className:"link-button",children:"\uD83D\uDD17 Open Portal"}):(0,l.jsxs)("span",{className:"invalid-link",title:"Invalid URL",children:["⚠️ ",c.portalLink]}):"N/A"})]})]})]}),(0,l.jsxs)("div",{className:"detail-section",children:[(0,l.jsxs)("h2",{className:"section-title",children:[(0,l.jsx)("span",{className:"section-icon",children:"\uD83D\uDCBC"}),"Bid Information"]}),(0,l.jsxs)("div",{className:"detail-grid",children:[(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Bid Number"}),(0,l.jsx)("span",{className:"detail-value bid-number",children:c.bidNumber||"N/A"})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Bid Title"}),(0,l.jsx)("span",{className:"detail-value",children:c.bidTitle||"N/A"})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Category"}),(0,l.jsx)("span",{className:"detail-value",children:c.category?(0,l.jsx)("span",{className:"category-badge",children:c.category}):"N/A"})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Quantity"}),(0,l.jsx)("span",{className:"detail-value quantity",children:c.quantity?"".concat(c.quantity," units"):"N/A"})]})]})]}),(0,l.jsxs)("div",{className:"detail-section",children:[(0,l.jsxs)("h2",{className:"section-title",children:[(0,l.jsx)("span",{className:"section-icon",children:"\uD83D\uDCC5"}),"Timeline & Dates"]}),(0,l.jsxs)("div",{className:"detail-grid",children:[(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Time Stamp"}),(0,l.jsx)("span",{className:"detail-value",children:c.timeStamp?new Date(c.timeStamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Due Date"}),(0,l.jsx)("span",{className:"detail-value",children:c.dueDate?(0,l.jsxs)("div",{className:"due-date-info",children:[(0,l.jsx)("span",{className:"date-text",children:new Date(c.dueDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),p&&(0,l.jsx)("span",{className:"due-status ".concat(p.class),children:p.text})]}):"N/A"})]}),"Sourcing"===N&&c.transferredAt&&(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Transferred to Sourcing"}),(0,l.jsx)("span",{className:"detail-value",children:(0,l.jsx)("span",{className:"transfer-badge",children:new Date(c.transferredAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})})]})]})]}),(0,l.jsxs)("div",{className:"detail-section",children:[(0,l.jsxs)("h2",{className:"section-title",children:[(0,l.jsx)("span",{className:"section-icon",children:"\uD83D\uDC64"}),"Contact Information"]}),(0,l.jsxs)("div",{className:"detail-grid",children:[(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Hunter Name"}),(0,l.jsx)("span",{className:"detail-value hunter-name",children:c.hunterName||"Not Assigned"})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Contact Name"}),(0,l.jsx)("span",{className:"detail-value",children:c.contactName||"N/A"})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Email"}),(0,l.jsx)("span",{className:"detail-value",children:c.email?(0,l.jsxs)("a",{href:"mailto:".concat(c.email),className:"email-link",children:["\uD83D\uDCE7 ",c.email]}):"N/A"})]}),"Sourcing"===N&&(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"detail-label",children:"Assigned By"}),(0,l.jsx)("span",{className:"detail-value",children:c.assignedBy?(0,l.jsx)("span",{className:"assigned-by-badge",children:c.assignedBy}):"N/A"})]})]})]}),(0,l.jsxs)("div",{className:"detail-section remarks-section",children:[(0,l.jsxs)("h2",{className:"section-title",children:[(0,l.jsx)("span",{className:"section-icon",children:"\uD83D\uDCAC"}),"Hunting Remarks & Notes"]}),(0,l.jsx)("div",{className:"remarks-content",children:(0,l.jsx)("div",{className:"remarks-text",children:c.huntingRemarks||"No remarks or additional notes have been provided for this entry."})})]})]})})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=1361)),_N_E=e.O()}]);