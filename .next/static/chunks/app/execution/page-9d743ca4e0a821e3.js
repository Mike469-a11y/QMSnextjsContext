(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{1952:(e,r,a)=>{"use strict";a.d(r,{default:()=>n});var s=a(5155),t=a(2115);a(5393);let l=e=>{let{onBack:r,currentUser:a,currentDateTime:l}=e,[c,i]=(0,t.useState)({communityTrustBank:{available:"",used:""},communityTrustBankCC:{available:"",used:""},chasePersonalCC:{available:"",used:""},chaseBusinessCC:{available:"",used:""},amexLineOfCredit:""});(0,t.useEffect)(()=>{n()},[]);let n=()=>{try{let e=localStorage.getItem("executionCreditData");e&&i(JSON.parse(e))}catch(e){console.error("Error loading credit data:",e)}},d=(e,r,a)=>{let s=""===a?"":parseFloat(a)||0;(e=>{i(e),localStorage.setItem("executionCreditData",JSON.stringify(e))})({...c,[e]:"object"==typeof c[e]?{...c[e],[r]:s}:s})},o=(0,t.useMemo)(()=>{let e=parseFloat(c.communityTrustBank.available)||0,r=parseFloat(c.communityTrustBank.used)||0,a=parseFloat(c.communityTrustBankCC.available)||0,s=parseFloat(c.communityTrustBankCC.used)||0,t=parseFloat(c.chasePersonalCC.available)||0,l=parseFloat(c.chasePersonalCC.used)||0,i=parseFloat(c.chaseBusinessCC.available)||0,n=parseFloat(c.chaseBusinessCC.used)||0,d=parseFloat(c.amexLineOfCredit)||0,o=a+t+i,m=Math.abs(s)+Math.abs(l)+Math.abs(n),h=o-m;return{totalCredit:o,totalUsed:-m,remainingCredit:h,netWorth:e+a+t+i-(Math.abs(r)+Math.abs(s)+Math.abs(l)+Math.abs(n)),totalAvailable:h+d}},[c]);return(0,s.jsxs)("div",{className:"credit-balance-container",children:[(0,s.jsxs)("div",{className:"credit-balance-header",children:[(0,s.jsxs)("div",{className:"credit-balance-header-left",children:[(0,s.jsx)("button",{className:"credit-balance-back-btn",onClick:r,children:"← Back to Execution"}),(0,s.jsxs)("div",{className:"credit-balance-title-section",children:[(0,s.jsx)("h1",{children:"\uD83D\uDCB3 Credit & Balance Overview"}),(0,s.jsx)("p",{children:"Monitor financial accounts and credit utilization"})]})]}),(0,s.jsx)("div",{className:"credit-balance-header-right",children:(0,s.jsxs)("div",{className:"credit-balance-user-info",children:[(0,s.jsxs)("span",{children:["Current User: ",(0,s.jsx)("strong",{children:a})]}),(0,s.jsx)("span",{className:"credit-balance-current-time",children:l})]})})]}),(0,s.jsxs)("div",{className:"credit-balance-content",children:[(0,s.jsx)("div",{className:"credit-balance-date-section",children:(0,s.jsxs)("div",{className:"credit-balance-date-indicator",children:["\uD83D\uDCC5 ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})}),(0,s.jsxs)("div",{className:"credit-balance-main-grid",children:[(0,s.jsxs)("div",{className:"credit-balance-inputs-section",children:[(0,s.jsx)("h2",{children:"\uD83D\uDCB0 Account Management"}),(0,s.jsxs)("div",{className:"credit-balance-inputs-grid",children:[(0,s.jsxs)("div",{className:"credit-balance-input-group",children:[(0,s.jsx)("label",{className:"credit-balance-label",children:"Community Trust Bank"}),(0,s.jsxs)("div",{className:"credit-balance-dual-inputs",children:[(0,s.jsx)("input",{type:"number",placeholder:"Available",value:c.communityTrustBank.available,onChange:e=>d("communityTrustBank","available",e.target.value),className:"credit-balance-input available"}),(0,s.jsx)("input",{type:"number",placeholder:"Used",value:c.communityTrustBank.used,onChange:e=>d("communityTrustBank","used",e.target.value),className:"credit-balance-input used"})]})]}),(0,s.jsxs)("div",{className:"credit-balance-input-group",children:[(0,s.jsx)("label",{className:"credit-balance-label",children:"Community Trust Bank Credit Card"}),(0,s.jsxs)("div",{className:"credit-balance-dual-inputs",children:[(0,s.jsx)("input",{type:"number",placeholder:"Available",value:c.communityTrustBankCC.available,onChange:e=>d("communityTrustBankCC","available",e.target.value),className:"credit-balance-input available"}),(0,s.jsx)("input",{type:"number",placeholder:"Used",value:c.communityTrustBankCC.used,onChange:e=>d("communityTrustBankCC","used",e.target.value),className:"credit-balance-input used"})]})]}),(0,s.jsxs)("div",{className:"credit-balance-input-group",children:[(0,s.jsx)("label",{className:"credit-balance-label",children:"Chase Personal Credit Card"}),(0,s.jsxs)("div",{className:"credit-balance-dual-inputs",children:[(0,s.jsx)("input",{type:"number",placeholder:"Available",value:c.chasePersonalCC.available,onChange:e=>d("chasePersonalCC","available",e.target.value),className:"credit-balance-input available"}),(0,s.jsx)("input",{type:"number",placeholder:"Used",value:c.chasePersonalCC.used,onChange:e=>d("chasePersonalCC","used",e.target.value),className:"credit-balance-input used"})]})]}),(0,s.jsxs)("div",{className:"credit-balance-input-group",children:[(0,s.jsx)("label",{className:"credit-balance-label",children:"Chase Business Credit Card"}),(0,s.jsxs)("div",{className:"credit-balance-dual-inputs",children:[(0,s.jsx)("input",{type:"number",placeholder:"Available",value:c.chaseBusinessCC.available,onChange:e=>d("chaseBusinessCC","available",e.target.value),className:"credit-balance-input available"}),(0,s.jsx)("input",{type:"number",placeholder:"Used",value:c.chaseBusinessCC.used,onChange:e=>d("chaseBusinessCC","used",e.target.value),className:"credit-balance-input used"})]})]}),(0,s.jsxs)("div",{className:"credit-balance-input-group",children:[(0,s.jsx)("label",{className:"credit-balance-label",children:"AMEX Line of Credit"}),(0,s.jsx)("div",{className:"credit-balance-single-input",children:(0,s.jsx)("input",{type:"number",placeholder:"Amount",value:c.amexLineOfCredit,onChange:e=>d("amexLineOfCredit","",e.target.value),className:"credit-balance-input single"})})]})]})]}),(0,s.jsxs)("div",{className:"credit-balance-totals-section",children:[(0,s.jsx)("h2",{children:"\uD83D\uDCCA Financial Summary"}),(0,s.jsxs)("div",{className:"credit-balance-totals-grid",children:[(0,s.jsxs)("div",{className:"credit-balance-total-item net-worth",children:[(0,s.jsx)("div",{className:"credit-balance-total-icon",children:"\uD83D\uDC8E"}),(0,s.jsxs)("div",{className:"credit-balance-total-content",children:[(0,s.jsx)("span",{className:"credit-balance-total-label",children:"Net Worth (Cash - Debts)"}),(0,s.jsxs)("span",{className:"credit-balance-total-value ".concat(o.netWorth>=0?"positive":"negative"),children:["$",o.netWorth.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"credit-balance-total-item",children:[(0,s.jsx)("div",{className:"credit-balance-total-icon",children:"\uD83D\uDCB3"}),(0,s.jsxs)("div",{className:"credit-balance-total-content",children:[(0,s.jsx)("span",{className:"credit-balance-total-label",children:"Total Credit"}),(0,s.jsxs)("span",{className:"credit-balance-total-value",children:["$",o.totalCredit.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"credit-balance-total-item",children:[(0,s.jsx)("div",{className:"credit-balance-total-icon",children:"\uD83D\uDCC9"}),(0,s.jsxs)("div",{className:"credit-balance-total-content",children:[(0,s.jsx)("span",{className:"credit-balance-total-label",children:"Used Credit"}),(0,s.jsxs)("span",{className:"credit-balance-total-value negative",children:["$",o.totalUsed.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"credit-balance-total-item",children:[(0,s.jsx)("div",{className:"credit-balance-total-icon",children:"\uD83D\uDCC8"}),(0,s.jsxs)("div",{className:"credit-balance-total-content",children:[(0,s.jsx)("span",{className:"credit-balance-total-label",children:"Remaining Credit"}),(0,s.jsxs)("span",{className:"credit-balance-total-value positive",children:["$",o.remainingCredit.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"credit-balance-total-item final-total",children:[(0,s.jsx)("div",{className:"credit-balance-total-icon",children:"\uD83C\uDFAF"}),(0,s.jsxs)("div",{className:"credit-balance-total-content",children:[(0,s.jsx)("span",{className:"credit-balance-total-label",children:"Total Available"}),(0,s.jsxs)("span",{className:"credit-balance-total-value highlight",children:["$",o.totalAvailable.toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{className:"credit-balance-utilization-chart",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCA Credit Utilization"}),(0,s.jsx)("div",{className:"credit-balance-chart-bar",children:(0,s.jsx)("div",{className:"credit-balance-chart-fill",style:{width:"".concat(Math.min(Math.abs(o.totalUsed)/o.totalCredit*100,100),"%")}})}),(0,s.jsxs)("div",{className:"credit-balance-chart-labels",children:[(0,s.jsxs)("span",{children:["Used: $",Math.abs(o.totalUsed).toFixed(2)]}),(0,s.jsxs)("span",{children:["Available: $",o.remainingCredit.toFixed(2)]})]})]})]})]})]})]})};var c=a(2501);a(8419);let i=e=>{var r,a,l,i;let{onBack:n,currentUser:d,currentDateTime:o}=e,[m,h]=(0,t.useState)([]),[u,v]=(0,t.useState)(""),[x,p]=(0,t.useState)("all"),[j,N]=(0,t.useState)(!1),[k,g]=(0,t.useState)(!1),[b,C]=(0,t.useState)(null),[f,D]=(0,t.useState)(null),[w,y]=(0,t.useState)([]),[P,A]=(0,t.useState)(!1),S=(0,t.useRef)(null),[I,O]=(0,t.useState)({orderDate:new Date().toISOString().split("T")[0],attentionCategory:"",qmsId:"",customer:"",customerPO:"",qmsPO:"",qmsInvoice:"",itemDescription:"",vendorName:"",customerName:"",email:"",sourcedBy:"",poAmount:"",paymentPlanFakheem:"",paymentApprovalAkmal:"",qmsCost:"",profit:"",paymentMethod:"",status:"initial-coord",qmsInvoiceDate:"",expectedReturnDate:"",customerPaymentMode:"",creditDebit:"",creditNotes:"",grossProfitTotaling:"",netProfitFromPOs:"",notes:"",fareedAkmalComments:"",transactionCompletionDays:""}),[B,M]=(0,t.useState)({}),F=[{id:"initial-coord",name:"Initial Coord with Supplier For Shipment",color:"#4299e1"},{id:"customer-po-received",name:"Customer PO Received",color:"#48bb78"},{id:"vendor-assessment",name:"Vendor Assessment",color:"#ed8936"},{id:"re-sourcing",name:"Re-Sourcing",color:"#9f7aea"},{id:"qms-po-sent",name:"QMS PO sent",color:"#38b2ac"},{id:"payment-to-supplier",name:"Payment to Supplier",color:"#f56565"},{id:"shipped-from-supplier",name:"Shipped From Supplier",color:"#4299e1"},{id:"in-transit",name:"In Transit",color:"#ed8936"},{id:"shipment-received-customer",name:"Shipment Received Customer",color:"#48bb78"},{id:"qms-invoice-to-customer",name:"QMS Invoice To Customer",color:"#9f7aea"},{id:"order-completed",name:"Order Completed",color:"#38a169"},{id:"other",name:"Other",color:"#718096"},{id:"cancelled",name:"Cancelled",color:"#e53e3e"}],q={attentionCategory:["OK","Follow Up","Completed","Closed","Cancelled","In Process","PO Recieved","Cheque Awaited"],paymentPlanFakheem:["Due","Paid","Due Today","PO Recieved.","Anticipated PO","Due Tomorrow","Due this week","Cancelled","On Hold"],paymentApprovalAkmal:["Discuss","Hold","Approved","Not Approved","Other"],paymentMethod:["CC-Community Trust Bank","Chase Business CC-9869","Chase Personal CC-0597","AMEX Line of Credit","CC-5364","ACH","WIRE","NET","N/A"],customerPaymentMode:["Cheque","Wire","ACH","Cancelled"]},E=e=>["attentionCategory","paymentApprovalAkmal","creditDebit","creditNotes","grossProfitTotaling","netProfitFromPOs"].includes(e)?"order-tracker-form-input sky-blue":["transactionCompletionDays"].includes(e)?"order-tracker-form-input light-grey":"order-tracker-form-input";(0,t.useEffect)(()=>{(async()=>{try{await c.A.initDB(),console.log("✅ IndexedDB initialized successfully")}catch(e){console.error("❌ Failed to initialize IndexedDB:",e)}})(),T()},[]),(0,t.useEffect)(()=>{(b||f)&&((null==b?void 0:b.qmsId)||(null==f?void 0:f.qmsId))&&U((null==b?void 0:b.qmsId)||(null==f?void 0:f.qmsId))},[b,f]);let T=()=>{try{let e=localStorage.getItem("executionOrders");e&&h(JSON.parse(e))}catch(e){console.error("Error loading orders:",e)}},L=e=>{h(e),localStorage.setItem("executionOrders",JSON.stringify(e))},U=async e=>{if(!e||""===e.trim()){console.log("No QMS ID provided, clearing attachments"),y([]);return}try{console.log("\uD83D\uDD0D Loading attachments for QMS ID:",e);let r=await c.A.getAttachmentsByVendor("",e.trim());console.log("\uD83D\uDCCE Found attachments:",(null==r?void 0:r.length)||0),y(r||[])}catch(e){console.error("❌ Error loading attachments:",e),y([])}},R=e=>{Array.from(e).forEach(e=>e.size>0xa00000?void alert('❌ File "'.concat(e.name,'" is too large. Maximum size is 10MB.')):["application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png","image/gif"].includes(e.type)?void Q(e):void alert('❌ File type "'.concat(e.type,'" is not supported. Please use PDF, Excel, Word, or Image files.')))},Q=async e=>{try{let r=I.qmsId||(null==b?void 0:b.qmsId);if(!r||""===r.trim())return void alert("⚠️ Please enter a QMS ID before uploading files.");console.log("\uD83D\uDCE4 Uploading file:",e.name,"for QMS ID:",r);let a=e;e.type.startsWith("image/")&&(console.log("\uD83D\uDDBC️ Compressing image:",e.name),a=await c.A.compressImage(e,1920,.8),console.log("✅ Image compressed from",W(e.size),"to",W(a.size)));let s=await a.arrayBuffer(),t={id:c.A.generateAttachmentId(),qmsId:r.trim(),vendorId:(I.vendorName||(null==b?void 0:b.vendorName)||"").trim(),fileName:e.name,fileType:e.type,fileSize:a.size,fileData:s,uploadedAt:new Date().toISOString(),uploadedBy:d||"Mike469-a11y"};console.log("\uD83D\uDCBE Saving attachment to IndexedDB:",t.id),await c.A.saveAttachment(t),console.log("\uD83D\uDD04 Reloading attachments for QMS ID:",r),await U(r),S.current&&(S.current.value=""),console.log('✅ File "'.concat(e.name,'" uploaded successfully'))}catch(r){console.error("❌ Error uploading file:",r),alert('❌ Failed to upload file "'.concat(e.name,'". Error: ').concat(r.message))}},z=async e=>{if(window.confirm("\uD83D\uDDD1️ Are you sure you want to delete this attachment?"))try{await c.A.deleteAttachment(e),await U(I.qmsId||(null==b?void 0:b.qmsId)),console.log("✅ Attachment deleted successfully")}catch(e){console.error("❌ Error deleting attachment:",e),alert("❌ Failed to delete attachment. Please try again.")}},V=async(e,r)=>{try{console.log("\uD83D\uDCE5 Downloading attachment:",e);let a=await c.A.getAttachment(e);if(a&&a.fileData){let e=new Blob([a.fileData],{type:a.fileType}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=r,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s),console.log("✅ File downloaded successfully:",r)}else alert("❌ File not found or corrupted.")}catch(e){console.error("❌ Error downloading attachment:",e),alert("❌ Failed to download attachment. Please try again.")}},$=async e=>{try{console.log("\uD83D\uDC41️ Viewing attachment:",e);let r=await c.A.getAttachment(e);if(r&&r.fileData){let e=new Blob([r.fileData],{type:r.fileType}),a=URL.createObjectURL(e),s=window.open("","_blank","width=1000,height=800,scrollbars=yes,resizable=yes");s?(s.document.write("\n                        <!DOCTYPE html>\n                        <html>\n                        <head>\n                            <title>".concat(r.fileName,'</title>\n                            <style>body { margin: 0; padding: 0; }</style>\n                        </head>\n                        <body>\n                            <embed src="').concat(a,'" type="').concat(r.fileType,'" width="100%" height="100%">\n                        </body>\n                        </html>\n                    ')),setTimeout(()=>URL.revokeObjectURL(a),3e4)):(alert("❌ Popup blocked. Please allow popups and try again."),URL.revokeObjectURL(a))}else alert("❌ File not found or corrupted.")}catch(e){console.error("❌ Error viewing attachment:",e),alert("❌ Failed to view attachment. Please try again.")}},W=e=>{if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]},_=e=>e.includes("pdf")?"\uD83D\uDCC4":e.includes("excel")||e.includes("spreadsheet")?"\uD83D\uDCCA":e.includes("word")||e.includes("document")?"\uD83D\uDCDD":e.includes("image")?"\uD83D\uDDBC️":"\uD83D\uDCCE",G=e=>"all"===e?m.length:m.filter(r=>r.status===e).length,H=m.filter(e=>{var r,a,s,t,l;let c=!u||(null==(r=e.qmsId)?void 0:r.toLowerCase().includes(u.toLowerCase()))||(null==(a=e.customer)?void 0:a.toLowerCase().includes(u.toLowerCase()))||(null==(s=e.vendorName)?void 0:s.toLowerCase().includes(u.toLowerCase()))||(null==(t=e.itemDescription)?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null==(l=e.customerName)?void 0:l.toLowerCase().includes(u.toLowerCase())),i="all"===x||e.status===x;return c&&i}),J=(e,r)=>{O(a=>({...a,[e]:r})),B[e]&&M(r=>({...r,[e]:""})),"qmsId"===e&&r.trim()&&U(r.trim())},K=e=>{C(e),O(e),N(!0)},X=()=>{N(!1),C(null),y([]),O({orderDate:new Date().toISOString().split("T")[0],attentionCategory:"",qmsId:"",customer:"",customerPO:"",qmsPO:"",qmsInvoice:"",itemDescription:"",vendorName:"",customerName:"",email:"",sourcedBy:"",poAmount:"",paymentPlanFakheem:"",paymentApprovalAkmal:"",qmsCost:"",profit:"",paymentMethod:"",status:"initial-coord",qmsInvoiceDate:"",expectedReturnDate:"",customerPaymentMode:"",creditDebit:"",creditNotes:"",grossProfitTotaling:"",netProfitFromPOs:"",notes:"",fareedAkmalComments:"",transactionCompletionDays:""}),M({})},Y=()=>{g(!1),D(null),y([])},Z=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||0===e?r.toLowerCase().includes("amount")||r.toLowerCase().includes("cost")||r.toLowerCase().includes("profit")?"$".concat(e):r.toLowerCase().includes("date")?new Date(e).toLocaleDateString():e:"Not specified"};return(0,s.jsxs)("div",{className:"order-tracker-container",children:[(0,s.jsxs)("div",{className:"order-tracker-header",children:[(0,s.jsxs)("div",{className:"order-tracker-header-left",children:[(0,s.jsx)("button",{className:"order-tracker-back-btn",onClick:n,children:"← Back to Execution"}),(0,s.jsxs)("div",{className:"order-tracker-title-section",children:[(0,s.jsx)("h1",{children:"\uD83D\uDCCB Order Tracker"}),(0,s.jsx)("p",{children:"Track orders through 13 status stages"})]})]}),(0,s.jsx)("div",{className:"order-tracker-header-right",children:(0,s.jsxs)("div",{className:"order-tracker-user-info",children:[(0,s.jsxs)("span",{children:["Current User: ",(0,s.jsx)("strong",{children:d||"Mike469-a11y"})]}),(0,s.jsx)("span",{className:"order-tracker-current-time",children:o||"2025-08-03 00:37:57"})]})})]}),(0,s.jsx)("div",{className:"order-tracker-controls",children:(0,s.jsxs)("div",{className:"order-tracker-stats-search",children:[(0,s.jsxs)("div",{className:"order-tracker-total-entries",children:[(0,s.jsx)("span",{className:"order-tracker-total-number",children:G("all")}),(0,s.jsx)("span",{className:"order-tracker-total-label",children:"Total Entries"})]}),(0,s.jsxs)("div",{className:"order-tracker-search-container",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search by QMS ID, Customer, Vendor, Item...",value:u,onChange:e=>v(e.target.value),className:"order-tracker-search-input"}),(0,s.jsx)("div",{className:"order-tracker-search-icon",children:"\uD83D\uDD0D"})]})]})}),(0,s.jsxs)("div",{className:"order-tracker-status-categories",children:[(0,s.jsx)("h2",{children:"\uD83D\uDCCA Order Status Categories"}),(0,s.jsxs)("div",{className:"order-tracker-categories-grid",children:[(0,s.jsxs)("div",{className:"order-tracker-status-card ".concat("all"===x?"active":""),onClick:()=>p("all"),style:{borderColor:"#667eea"},children:[(0,s.jsx)("div",{className:"order-tracker-status-icon",style:{backgroundColor:"#667eea"},children:"\uD83D\uDCCA"}),(0,s.jsxs)("div",{className:"order-tracker-status-content",children:[(0,s.jsx)("div",{className:"order-tracker-status-name",children:"All Orders"}),(0,s.jsx)("div",{className:"order-tracker-status-count",children:G("all")})]})]}),F.map(e=>(0,s.jsxs)("div",{className:"order-tracker-status-card ".concat(x===e.id?"active":""),onClick:()=>p(e.id),style:{borderColor:e.color},children:[(0,s.jsxs)("div",{className:"order-tracker-status-icon",style:{backgroundColor:e.color},children:["initial-coord"===e.id&&"\uD83D\uDE80","customer-po-received"===e.id&&"\uD83D\uDCCB","vendor-assessment"===e.id&&"\uD83D\uDD0D","re-sourcing"===e.id&&"\uD83D\uDD04","qms-po-sent"===e.id&&"\uD83D\uDCE4","payment-to-supplier"===e.id&&"\uD83D\uDCB3","shipped-from-supplier"===e.id&&"\uD83D\uDCE6","in-transit"===e.id&&"\uD83D\uDE9B","shipment-received-customer"===e.id&&"\uD83D\uDCE5","qms-invoice-to-customer"===e.id&&"\uD83E\uDDFE","order-completed"===e.id&&"✅","other"===e.id&&"\uD83D\uDCCB","cancelled"===e.id&&"❌"]}),(0,s.jsxs)("div",{className:"order-tracker-status-content",children:[(0,s.jsx)("div",{className:"order-tracker-status-name",children:e.name}),(0,s.jsx)("div",{className:"order-tracker-status-count",children:G(e.id)})]})]},e.id))]})]}),(0,s.jsxs)("div",{className:"order-tracker-orders-section",children:[(0,s.jsxs)("div",{className:"order-tracker-orders-header",children:[(0,s.jsx)("h2",{children:"all"===x?"\uD83D\uDCCB All Orders (".concat(H.length,")"):"\uD83D\uDCCB ".concat(null==(r=F.find(e=>e.id===x))?void 0:r.name," (").concat(H.length,")")}),(0,s.jsx)("button",{className:"order-tracker-add-order-btn",onClick:()=>N(!0),children:"➕ Add New Order"})]}),0===H.length?(0,s.jsxs)("div",{className:"order-tracker-no-orders",children:[(0,s.jsx)("div",{className:"order-tracker-no-orders-icon",children:"\uD83D\uDCE6"}),(0,s.jsx)("h3",{children:"No Orders Found"}),(0,s.jsx)("p",{children:u?'No orders match your search "'.concat(u,'"'):"all"===x?'No orders available. Click "Add New Order" to get started.':'No orders with status "'.concat(null==(a=F.find(e=>e.id===x))?void 0:a.name,'"')})]}):(0,s.jsxs)("div",{className:"order-tracker-orders-table",children:[(0,s.jsxs)("div",{className:"order-tracker-table-header",children:[(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"SR"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"QMS ID"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"Customer"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"Item Description"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"Vendor"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"Status"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"Order Date"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"PO Amount"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"QMS Cost"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"Profit"}),(0,s.jsx)("div",{className:"order-tracker-header-cell",children:"Actions"})]}),H.map((e,r)=>{var a,t;return(0,s.jsxs)("div",{className:"order-tracker-table-row",children:[(0,s.jsx)("div",{className:"order-tracker-cell order-tracker-sr",children:r+1}),(0,s.jsx)("div",{className:"order-tracker-cell font-weight-bold",children:e.qmsId}),(0,s.jsx)("div",{className:"order-tracker-cell",children:e.customer}),(0,s.jsx)("div",{className:"order-tracker-cell",children:e.itemDescription}),(0,s.jsx)("div",{className:"order-tracker-cell",children:e.vendorName}),(0,s.jsx)("div",{className:"order-tracker-cell",children:(0,s.jsx)("span",{className:"order-tracker-status-badge",style:{backgroundColor:(null==(a=F.find(r=>r.id===e.status))?void 0:a.color)||"#718096",color:"white"},children:(null==(t=F.find(r=>r.id===e.status))?void 0:t.name)||"Unknown"})}),(0,s.jsx)("div",{className:"order-tracker-cell",children:e.orderDate}),(0,s.jsxs)("div",{className:"order-tracker-cell order-tracker-amount",children:["$",e.poAmount||"0"]}),(0,s.jsxs)("div",{className:"order-tracker-cell order-tracker-amount",children:["$",e.qmsCost||"0"]}),(0,s.jsxs)("div",{className:"order-tracker-cell order-tracker-amount",children:["$",e.profit||"0"]}),(0,s.jsxs)("div",{className:"order-tracker-cell order-tracker-actions",children:[(0,s.jsx)("button",{className:"order-tracker-edit-btn",title:"Edit Order",onClick:()=>K(e),children:"✏️"}),(0,s.jsx)("button",{className:"order-tracker-view-btn",title:"View Details",onClick:()=>{D(e),g(!0)},children:"\uD83D\uDC41️"}),(0,s.jsx)("button",{className:"order-tracker-delete-btn",title:"Delete Order",onClick:()=>{var r;return r=e.id,void(window.confirm("\uD83D\uDDD1️ Are you sure you want to delete this order?")&&L(m.filter(e=>e.id!==r)))},children:"\uD83D\uDDD1️"})]})]},e.id)})]})]}),k&&f&&(0,s.jsx)("div",{className:"order-tracker-modal-overlay",onClick:Y,children:(0,s.jsxs)("div",{className:"order-tracker-modal order-tracker-view-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"order-tracker-modal-header order-tracker-view-header",children:[(0,s.jsxs)("h2",{children:["\uD83D\uDC41️ View Order Details - ",f.qmsId]}),(0,s.jsx)("button",{className:"order-tracker-modal-close",onClick:Y,children:"✕"})]}),(0,s.jsx)("div",{className:"order-tracker-modal-content",children:(0,s.jsxs)("div",{className:"order-tracker-view-grid",children:[(0,s.jsxs)("div",{className:"order-tracker-view-section",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCB Basic Order Information"}),(0,s.jsxs)("div",{className:"order-tracker-view-content",children:[(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Order Date:"}),(0,s.jsx)("span",{children:Z(f.orderDate,"date")})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Attention Category:"}),(0,s.jsx)("span",{children:Z(f.attentionCategory)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"QMS ID:"}),(0,s.jsx)("span",{className:"order-tracker-view-highlight",children:Z(f.qmsId)})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Customer:"}),(0,s.jsx)("span",{className:"order-tracker-view-highlight",children:Z(f.customer)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Customer PO #:"}),(0,s.jsx)("span",{children:Z(f.customerPO)})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"QMS PO #:"}),(0,s.jsx)("span",{children:Z(f.qmsPO)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"QMS Invoice #:"}),(0,s.jsx)("span",{children:Z(f.qmsInvoice)})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Item Description:"}),(0,s.jsx)("span",{className:"order-tracker-view-highlight",children:Z(f.itemDescription)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Vendor Name:"}),(0,s.jsx)("span",{className:"order-tracker-view-highlight",children:Z(f.vendorName)})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Customer Name:"}),(0,s.jsx)("span",{children:Z(f.customerName)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Email:"}),(0,s.jsx)("span",{children:Z(f.email)})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Sourced By:"}),(0,s.jsx)("span",{children:Z(f.sourcedBy)})]})]})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-section",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCB0 Financial Information"}),(0,s.jsxs)("div",{className:"order-tracker-view-content",children:[(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"PO Amount:"}),(0,s.jsx)("span",{className:"order-tracker-view-amount",children:Z(f.poAmount,"amount")})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Payment Plan (Fakheem):"}),(0,s.jsx)("span",{children:Z(f.paymentPlanFakheem)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Payment Approval (Initial Akmal):"}),(0,s.jsx)("span",{children:Z(f.paymentApprovalAkmal)})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"QMS Cost:"}),(0,s.jsx)("span",{className:"order-tracker-view-amount",children:Z(f.qmsCost,"cost")})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Profit:"}),(0,s.jsx)("span",{className:"order-tracker-view-profit",children:Z(f.profit,"profit")})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Payment Method:"}),(0,s.jsx)("span",{children:Z(f.paymentMethod)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"QMS Invoice Date:"}),(0,s.jsx)("span",{children:Z(f.qmsInvoiceDate,"date")})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Expected Return Date:"}),(0,s.jsx)("span",{children:Z(f.expectedReturnDate,"date")})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Customer Payment Mode:"}),(0,s.jsx)("span",{children:Z(f.customerPaymentMode)})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Credit / Debit:"}),(0,s.jsx)("span",{children:Z(f.creditDebit)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Credit Notes:"}),(0,s.jsx)("span",{children:Z(f.creditNotes)})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Gross Profit (GP) Totaling:"}),(0,s.jsx)("span",{className:"order-tracker-view-profit",children:Z(f.grossProfitTotaling,"profit")})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Net Profit From PO's:"}),(0,s.jsx)("span",{className:"order-tracker-view-profit",children:Z(f.netProfitFromPOs,"profit")})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Transaction Completion Time:"}),(0,s.jsxs)("span",{children:[Z(f.transactionCompletionDays)," ",f.transactionCompletionDays?"days":""]})]})]})]})]}),w.length>0&&(0,s.jsxs)("div",{className:"order-tracker-view-section",children:[(0,s.jsxs)("h3",{children:["\uD83D\uDCCE Attachments (",w.length,")"]}),(0,s.jsxs)("div",{className:"order-tracker-view-content",children:[(0,s.jsx)("div",{className:"order-tracker-attachments-list",children:w.map(e=>(0,s.jsxs)("div",{className:"order-tracker-attachment-item",children:[(0,s.jsxs)("div",{className:"order-tracker-attachment-info",children:[(0,s.jsx)("span",{className:"order-tracker-file-icon",children:_(e.fileType)}),(0,s.jsxs)("div",{className:"order-tracker-file-details",children:[(0,s.jsx)("span",{className:"order-tracker-file-name",children:e.fileName}),(0,s.jsx)("span",{className:"order-tracker-file-size",children:W(e.fileSize)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-attachment-actions",children:[(0,s.jsx)("button",{onClick:()=>$(e.id),className:"order-tracker-attachment-view-btn",title:"View File",children:"\uD83D\uDC41️"}),(0,s.jsx)("button",{onClick:()=>V(e.id,e.fileName),className:"order-tracker-attachment-download-btn",title:"Download File",children:"\uD83D\uDCE5"})]})]},e.id))}),(0,s.jsxs)("div",{className:"order-tracker-attachments-summary",children:[(0,s.jsxs)("span",{children:["Total: ",w.length," files"]}),(0,s.jsxs)("span",{children:["Size: ",W(w.reduce((e,r)=>e+r.fileSize,0))]})]})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-section",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCA Status & Tracking"}),(0,s.jsxs)("div",{className:"order-tracker-view-content",children:[(0,s.jsx)("div",{className:"order-tracker-view-row",children:(0,s.jsxs)("div",{className:"order-tracker-view-field order-tracker-view-field-wide",children:[(0,s.jsx)("label",{children:"Current Status:"}),(0,s.jsx)("span",{className:"order-tracker-view-status-badge",style:{backgroundColor:(null==(l=F.find(e=>e.id===f.status))?void 0:l.color)||"#718096"},children:(null==(i=F.find(e=>e.id===f.status))?void 0:i.name)||"Unknown"})]})}),f.notes&&(0,s.jsx)("div",{className:"order-tracker-view-row",children:(0,s.jsxs)("div",{className:"order-tracker-view-field order-tracker-view-field-full",children:[(0,s.jsx)("label",{children:"Notes:"}),(0,s.jsx)("div",{className:"order-tracker-view-notes",children:f.notes})]})}),f.fareedAkmalComments&&(0,s.jsx)("div",{className:"order-tracker-view-row",children:(0,s.jsxs)("div",{className:"order-tracker-view-field order-tracker-view-field-full",children:[(0,s.jsx)("label",{children:"Fareed Bhai / Akmal Comments:"}),(0,s.jsx)("div",{className:"order-tracker-view-notes",children:f.fareedAkmalComments})]})})]})]}),(0,s.jsxs)("div",{className:"order-tracker-view-section",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCC5 Order Metadata"}),(0,s.jsx)("div",{className:"order-tracker-view-content",children:(0,s.jsxs)("div",{className:"order-tracker-view-row",children:[(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Created At:"}),(0,s.jsx)("span",{children:f.createdAt?new Date(f.createdAt).toLocaleString():"Not available"})]}),(0,s.jsxs)("div",{className:"order-tracker-view-field",children:[(0,s.jsx)("label",{children:"Last Updated:"}),(0,s.jsx)("span",{children:f.updatedAt?new Date(f.updatedAt).toLocaleString():"Not available"})]})]})})]})]})}),(0,s.jsxs)("div",{className:"order-tracker-modal-footer order-tracker-view-footer",children:[(0,s.jsx)("button",{className:"order-tracker-view-close-btn",onClick:Y,children:"Close"}),(0,s.jsx)("button",{className:"order-tracker-view-edit-btn",onClick:()=>{Y(),K(f)},children:"✏️ Edit Order"})]})]})}),j&&(0,s.jsx)("div",{className:"order-tracker-modal-overlay",onClick:X,children:(0,s.jsxs)("div",{className:"order-tracker-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"order-tracker-modal-header",children:[(0,s.jsx)("h2",{children:b?"✏️ Edit Order":"➕ Add New Order"}),(0,s.jsx)("button",{className:"order-tracker-modal-close",onClick:X,children:"✕"})]}),(0,s.jsx)("div",{className:"order-tracker-modal-content",children:(0,s.jsxs)("div",{className:"order-tracker-form-grid",children:[(0,s.jsxs)("div",{className:"order-tracker-form-section",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCB Basic Order Information"}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Order Date *"}),(0,s.jsx)("input",{type:"date",value:I.orderDate,onChange:e=>J("orderDate",e.target.value),className:E("orderDate")})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Attention Category"}),(0,s.jsxs)("select",{value:I.attentionCategory,onChange:e=>J("attentionCategory",e.target.value),className:E("attentionCategory"),children:[(0,s.jsx)("option",{value:"",children:"Select Attention Category"}),q.attentionCategory.map((e,r)=>(0,s.jsx)("option",{value:e,children:e},r))]})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"QMS ID *"}),(0,s.jsx)("input",{type:"text",value:I.qmsId,onChange:e=>J("qmsId",e.target.value),className:"".concat(E("qmsId")," ").concat(B.qmsId?"error":""),placeholder:"Enter QMS ID"}),B.qmsId&&(0,s.jsx)("span",{className:"order-tracker-error",children:B.qmsId})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Customer *"}),(0,s.jsx)("input",{type:"text",value:I.customer,onChange:e=>J("customer",e.target.value),className:"".concat(E("customer")," ").concat(B.customer?"error":""),placeholder:"Enter customer"}),B.customer&&(0,s.jsx)("span",{className:"order-tracker-error",children:B.customer})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Customer PO #"}),(0,s.jsx)("input",{type:"text",value:I.customerPO,onChange:e=>J("customerPO",e.target.value),className:E("customerPO"),placeholder:"Enter customer PO #"})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"QMS PO #"}),(0,s.jsx)("input",{type:"text",value:I.qmsPO,onChange:e=>J("qmsPO",e.target.value),className:E("qmsPO"),placeholder:"Enter QMS PO #"})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"QMS Invoice #"}),(0,s.jsx)("input",{type:"text",value:I.qmsInvoice,onChange:e=>J("qmsInvoice",e.target.value),className:E("qmsInvoice"),placeholder:"Enter QMS invoice #"})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Item Description *"}),(0,s.jsx)("input",{type:"text",value:I.itemDescription,onChange:e=>J("itemDescription",e.target.value),className:"".concat(E("itemDescription")," ").concat(B.itemDescription?"error":""),placeholder:"Enter item description"}),B.itemDescription&&(0,s.jsx)("span",{className:"order-tracker-error",children:B.itemDescription})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Vendor Name *"}),(0,s.jsx)("input",{type:"text",value:I.vendorName,onChange:e=>J("vendorName",e.target.value),className:"".concat(E("vendorName")," ").concat(B.vendorName?"error":""),placeholder:"Enter vendor name"}),B.vendorName&&(0,s.jsx)("span",{className:"order-tracker-error",children:B.vendorName})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Customer Name"}),(0,s.jsx)("input",{type:"text",value:I.customerName,onChange:e=>J("customerName",e.target.value),className:E("customerName"),placeholder:"Enter customer name"})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Email"}),(0,s.jsx)("input",{type:"email",value:I.email,onChange:e=>J("email",e.target.value),className:"".concat(E("email")," ").concat(B.email?"error":""),placeholder:"Enter email address"}),B.email&&(0,s.jsx)("span",{className:"order-tracker-error",children:B.email})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Sourced By"}),(0,s.jsx)("input",{type:"text",value:I.sourcedBy,onChange:e=>J("sourcedBy",e.target.value),className:E("sourcedBy"),placeholder:"Enter sourced by"})]})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-section",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCB0 Financial Information"}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"PO Amount"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:I.poAmount,onChange:e=>J("poAmount",e.target.value),className:E("poAmount"),placeholder:"Enter PO amount"})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Payment Plan (Fakheem)"}),(0,s.jsxs)("select",{value:I.paymentPlanFakheem,onChange:e=>J("paymentPlanFakheem",e.target.value),className:E("paymentPlanFakheem"),children:[(0,s.jsx)("option",{value:"",children:"Select Payment Plan"}),q.paymentPlanFakheem.map((e,r)=>(0,s.jsx)("option",{value:e,children:e},r))]})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Payment Approval (Initial Akmal)"}),(0,s.jsxs)("select",{value:I.paymentApprovalAkmal,onChange:e=>J("paymentApprovalAkmal",e.target.value),className:E("paymentApprovalAkmal"),children:[(0,s.jsx)("option",{value:"",children:"Select Payment Approval"}),q.paymentApprovalAkmal.map((e,r)=>(0,s.jsx)("option",{value:e,children:e},r))]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"QMS Cost"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:I.qmsCost,onChange:e=>J("qmsCost",e.target.value),className:E("qmsCost"),placeholder:"Enter QMS cost"})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Profit"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:I.profit,onChange:e=>J("profit",e.target.value),className:E("profit"),placeholder:"Enter profit"})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Payment Method"}),(0,s.jsxs)("select",{value:I.paymentMethod,onChange:e=>J("paymentMethod",e.target.value),className:E("paymentMethod"),children:[(0,s.jsx)("option",{value:"",children:"Select Payment Method"}),q.paymentMethod.map((e,r)=>(0,s.jsx)("option",{value:e,children:e},r))]})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"QMS Invoice Date"}),(0,s.jsx)("input",{type:"date",value:I.qmsInvoiceDate,onChange:e=>J("qmsInvoiceDate",e.target.value),className:E("qmsInvoiceDate")})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Expected Return Date"}),(0,s.jsx)("input",{type:"date",value:I.expectedReturnDate,onChange:e=>J("expectedReturnDate",e.target.value),className:E("expectedReturnDate")})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Customer Payment Mode"}),(0,s.jsxs)("select",{value:I.customerPaymentMode,onChange:e=>J("customerPaymentMode",e.target.value),className:E("customerPaymentMode"),children:[(0,s.jsx)("option",{value:"",children:"Select Customer Payment Mode"}),q.customerPaymentMode.map((e,r)=>(0,s.jsx)("option",{value:e,children:e},r))]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Credit / Debit"}),(0,s.jsx)("input",{type:"text",value:I.creditDebit,onChange:e=>J("creditDebit",e.target.value),className:E("creditDebit"),placeholder:"Enter credit or debit"})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Credit Notes"}),(0,s.jsx)("input",{type:"text",value:I.creditNotes,onChange:e=>J("creditNotes",e.target.value),className:E("creditNotes"),placeholder:"Enter credit notes"})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Gross Profit (GP) Totaling"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:I.grossProfitTotaling,onChange:e=>J("grossProfitTotaling",e.target.value),className:E("grossProfitTotaling"),placeholder:"Enter gross profit totaling"})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-row",children:[(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Net Profit From PO's"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:I.netProfitFromPOs,onChange:e=>J("netProfitFromPOs",e.target.value),className:E("netProfitFromPOs"),placeholder:"Enter net profit from PO's"})]}),(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Transaction Completion Time (Days)"}),(0,s.jsx)("input",{type:"number",value:I.transactionCompletionDays,onChange:e=>J("transactionCompletionDays",e.target.value),className:E("transactionCompletionDays"),placeholder:"Enter completion days"})]})]})]}),(0,s.jsxs)("div",{className:"order-tracker-form-section",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCE Attachments"}),(b||I.qmsId)&&(0,s.jsxs)("div",{style:{background:"#f0f9ff",border:"1px solid #0ea5e9",padding:"8px 12px",borderRadius:"4px",fontSize:"0.8rem",marginBottom:"12px"},children:[(0,s.jsx)("strong",{children:"\uD83D\uDCCB QMS ID:"}),' "',I.qmsId||(null==b?void 0:b.qmsId)||"EMPTY",'"',w.length>0&&" | \uD83D\uDCCE ".concat(w.length," attachments loaded")]}),(0,s.jsx)("div",{className:"order-tracker-form-row",children:(0,s.jsxs)("div",{className:"order-tracker-form-group full-width",children:[I.qmsId||(null==b?void 0:b.qmsId)?(0,s.jsxs)("div",{className:"order-tracker-upload-area ".concat(P?"dragging":""),onDragOver:e=>{e.preventDefault(),A(!0)},onDragLeave:e=>{e.preventDefault(),A(!1)},onDrop:e=>{e.preventDefault(),A(!1),R(e.dataTransfer.files)},onClick:()=>{var e;return null==(e=S.current)?void 0:e.click()},children:[(0,s.jsx)("div",{className:"order-tracker-upload-icon",children:"\uD83D\uDCCE"}),(0,s.jsx)("div",{className:"order-tracker-upload-text",children:"Drag & drop files here or click to browse"}),(0,s.jsx)("div",{className:"order-tracker-upload-subtext",children:"Supported: PDF, Excel, Word, Images (max 10MB each)"}),(0,s.jsx)("button",{type:"button",className:"order-tracker-browse-btn",onClick:e=>{var r;e.stopPropagation(),null==(r=S.current)||r.click()},children:"Browse Files"})]}):(0,s.jsxs)("div",{className:"order-tracker-upload-disabled",children:[(0,s.jsx)("div",{className:"order-tracker-upload-icon",style:{opacity:.5},children:"\uD83D\uDCCE"}),(0,s.jsx)("div",{className:"order-tracker-upload-text",style:{color:"#6b7280"},children:"Please enter a QMS ID first to upload files"})]}),(0,s.jsx)("input",{ref:S,type:"file",multiple:!0,accept:".pdf,.xlsx,.xls,.docx,.doc,.jpg,.jpeg,.png,.gif",onChange:e=>{let r=e.target.files;r&&R(r)},style:{display:"none"}})]})}),w.length>0&&(0,s.jsx)("div",{className:"order-tracker-form-row",children:(0,s.jsxs)("div",{className:"order-tracker-form-group full-width",children:[(0,s.jsxs)("label",{children:["Uploaded Files (",w.length,"):"]}),(0,s.jsx)("div",{className:"order-tracker-attachments-list",children:w.map(e=>(0,s.jsxs)("div",{className:"order-tracker-attachment-item",children:[(0,s.jsxs)("div",{className:"order-tracker-attachment-info",children:[(0,s.jsx)("span",{className:"order-tracker-file-icon",children:_(e.fileType)}),(0,s.jsxs)("div",{className:"order-tracker-file-details",children:[(0,s.jsx)("span",{className:"order-tracker-file-name",children:e.fileName}),(0,s.jsx)("span",{className:"order-tracker-file-size",children:W(e.fileSize)})]})]}),(0,s.jsxs)("div",{className:"order-tracker-attachment-actions",children:[(0,s.jsx)("button",{onClick:()=>$(e.id),className:"order-tracker-attachment-view-btn",title:"View File",children:"\uD83D\uDC41️"}),(0,s.jsx)("button",{onClick:()=>V(e.id,e.fileName),className:"order-tracker-attachment-download-btn",title:"Download File",children:"\uD83D\uDCE5"}),(0,s.jsx)("button",{onClick:()=>z(e.id),className:"order-tracker-attachment-delete-btn",title:"Delete File",children:"\uD83D\uDDD1️"})]})]},e.id))}),(0,s.jsxs)("div",{className:"order-tracker-attachments-summary",children:[(0,s.jsxs)("span",{children:["Total: ",w.length," files"]}),(0,s.jsxs)("span",{children:["Size: ",W(w.reduce((e,r)=>e+r.fileSize,0))]})]})]})})]}),(0,s.jsxs)("div",{className:"order-tracker-form-section",children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCA Status & Tracking"}),(0,s.jsx)("div",{className:"order-tracker-form-row",children:(0,s.jsxs)("div",{className:"order-tracker-form-group",children:[(0,s.jsx)("label",{children:"Status"}),(0,s.jsx)("select",{value:I.status,onChange:e=>J("status",e.target.value),className:E("status"),children:F.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))})]})}),(0,s.jsx)("div",{className:"order-tracker-form-row",children:(0,s.jsxs)("div",{className:"order-tracker-form-group full-width",children:[(0,s.jsx)("label",{children:"Notes"}),(0,s.jsx)("textarea",{value:I.notes,onChange:e=>J("notes",e.target.value),className:"order-tracker-form-textarea",placeholder:"Enter notes...",rows:"4"})]})}),(0,s.jsx)("div",{className:"order-tracker-form-row",children:(0,s.jsxs)("div",{className:"order-tracker-form-group full-width",children:[(0,s.jsx)("label",{children:"Fareed Bhai / Akmal Comments"}),(0,s.jsx)("textarea",{value:I.fareedAkmalComments,onChange:e=>J("fareedAkmalComments",e.target.value),className:"order-tracker-form-textarea",placeholder:"Enter comments...",rows:"4"})]})})]})]})}),(0,s.jsxs)("div",{className:"order-tracker-modal-footer",children:[(0,s.jsx)("button",{className:"order-tracker-cancel-btn",onClick:X,children:"Cancel"}),(0,s.jsx)("button",{className:"order-tracker-save-btn",onClick:()=>{if(!(()=>{let e={};return["qmsId","customer","itemDescription","vendorName"].forEach(r=>{var a;(null==(a=I[r])?void 0:a.trim())||(e[r]="This field is required")}),I.email&&!/\S+@\S+\.\S+/.test(I.email)&&(e.email="Please enter a valid email address"),M(e),0===Object.keys(e).length})())return;let e={...I,id:b?b.id:Date.now().toString(),createdAt:b?b.createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};L(b?m.map(r=>r.id===b.id?e:r):[...m,e]),X()},children:b?"Update Order":"Add Order"})]})]})})]})};a(5947);let n=()=>{let[e,r]=(0,t.useState)("main"),a="2025-08-01 20:56:35",c="Mike469-a11y",n=()=>{r("main")};return"main"===e?(0,s.jsxs)("div",{className:"execution-container",children:[(0,s.jsxs)("div",{className:"execution-header",children:[(0,s.jsxs)("div",{className:"execution-header-left",children:[(0,s.jsx)("h1",{children:"⚡ Execution Dashboard"}),(0,s.jsx)("p",{children:"Financial tracking and order management system"})]}),(0,s.jsx)("div",{className:"execution-header-right",children:(0,s.jsxs)("div",{className:"execution-user-info",children:[(0,s.jsxs)("span",{children:["Current User: ",(0,s.jsx)("strong",{children:c})]}),(0,s.jsx)("span",{className:"execution-current-time",children:a})]})})]}),(0,s.jsxs)("div",{className:"execution-main-content",children:[(0,s.jsxs)("div",{className:"execution-sections-grid",children:[(0,s.jsxs)("div",{className:"execution-section-card credit-section",onClick:()=>{r("credit")},children:[(0,s.jsx)("div",{className:"execution-section-icon",children:"\uD83D\uDCB3"}),(0,s.jsxs)("div",{className:"execution-section-content",children:[(0,s.jsx)("h2",{children:"Credit & Balance Overview"}),(0,s.jsx)("p",{children:"Manage credit accounts, track balances, and monitor financial health"}),(0,s.jsxs)("div",{className:"execution-section-features",children:[(0,s.jsx)("span",{className:"execution-feature",children:"\uD83D\uDCCA Live Balance Tracking"}),(0,s.jsx)("span",{className:"execution-feature",children:"\uD83D\uDCB0 Credit Calculations"}),(0,s.jsx)("span",{className:"execution-feature",children:"\uD83D\uDCC8 Financial Overview"})]})]}),(0,s.jsx)("div",{className:"execution-section-arrow",children:"→"})]}),(0,s.jsxs)("div",{className:"execution-section-card orders-section",onClick:()=>{r("orders")},children:[(0,s.jsx)("div",{className:"execution-section-icon",children:"\uD83D\uDCCB"}),(0,s.jsxs)("div",{className:"execution-section-content",children:[(0,s.jsx)("h2",{children:"Order Tracker"}),(0,s.jsx)("p",{children:"Track orders through 13 status stages from initial coordination to completion"}),(0,s.jsxs)("div",{className:"execution-section-features",children:[(0,s.jsx)("span",{className:"execution-feature",children:"\uD83D\uDD0D Smart Search"}),(0,s.jsx)("span",{className:"execution-feature",children:"\uD83D\uDCCA Status Categories"}),(0,s.jsx)("span",{className:"execution-feature",children:"\uD83D\uDCC8 Progress Tracking"})]})]}),(0,s.jsx)("div",{className:"execution-section-arrow",children:"→"})]})]}),(0,s.jsxs)("div",{className:"execution-quick-stats",children:[(0,s.jsxs)("div",{className:"execution-stat-card",children:[(0,s.jsx)("div",{className:"execution-stat-number",children:"0"}),(0,s.jsx)("div",{className:"execution-stat-label",children:"Active Orders"})]}),(0,s.jsxs)("div",{className:"execution-stat-card",children:[(0,s.jsx)("div",{className:"execution-stat-number",children:"$0.00"}),(0,s.jsx)("div",{className:"execution-stat-label",children:"Total Available"})]}),(0,s.jsxs)("div",{className:"execution-stat-card",children:[(0,s.jsx)("div",{className:"execution-stat-number",children:"0"}),(0,s.jsx)("div",{className:"execution-stat-label",children:"Completed Today"})]}),(0,s.jsxs)("div",{className:"execution-stat-card",children:[(0,s.jsx)("div",{className:"execution-stat-number",children:"0"}),(0,s.jsx)("div",{className:"execution-stat-label",children:"Pending Actions"})]})]})]})]}):"credit"===e?(0,s.jsx)(l,{onBack:n,currentUser:c,currentDateTime:a}):"orders"===e?(0,s.jsx)(i,{onBack:n,currentUser:c,currentDateTime:a}):null}},2501:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});class s{async initDB(){return new Promise((e,r)=>{let a=indexedDB.open(this.dbName,this.version);a.onerror=()=>r(a.error),a.onsuccess=()=>{this.db=a.result,e(this.db)},a.onupgradeneeded=e=>{let r=e.target.result;if(!r.objectStoreNames.contains("attachments")){let e=r.createObjectStore("attachments",{keyPath:"id"});e.createIndex("vendorId","vendorId",{unique:!1}),e.createIndex("qmsId","qmsId",{unique:!1})}r.objectStoreNames.contains("sourcingData")||r.createObjectStore("sourcingData",{keyPath:"qmsId"})}})}async saveAttachment(e){return this.db||await this.initDB(),new Promise((r,a)=>{let s=this.db.transaction(["attachments"],"readwrite").objectStore("attachments").put(e);s.onsuccess=()=>r(s.result),s.onerror=()=>a(s.error)})}async getAttachment(e){return this.db||await this.initDB(),new Promise((r,a)=>{let s=this.db.transaction(["attachments"],"readonly").objectStore("attachments").get(e);s.onsuccess=()=>r(s.result),s.onerror=()=>a(s.error)})}async getAttachmentsByVendor(e,r){return this.db||await this.initDB(),new Promise((a,s)=>{let t=this.db.transaction(["attachments"],"readonly").objectStore("attachments").index("vendorId").getAll(e);t.onsuccess=()=>{a(t.result.filter(e=>e.qmsId===r))},t.onerror=()=>s(t.error)})}async deleteAttachment(e){return this.db||await this.initDB(),new Promise((r,a)=>{let s=this.db.transaction(["attachments"],"readwrite").objectStore("attachments").delete(e);s.onsuccess=()=>r(!0),s.onerror=()=>a(s.error)})}async saveSourcingData(e,r){return this.db||await this.initDB(),new Promise((a,s)=>{let t=this.db.transaction(["sourcingData"],"readwrite").objectStore("sourcingData").put({qmsId:e,data:r,lastUpdated:new Date});t.onsuccess=()=>a(t.result),t.onerror=()=>s(t.error)})}async getSourcingData(e){return this.db||await this.initDB(),new Promise((r,a)=>{let s=this.db.transaction(["sourcingData"],"readonly").objectStore("sourcingData").get(e);s.onsuccess=()=>{var e;return r((null==(e=s.result)?void 0:e.data)||null)},s.onerror=()=>a(s.error)})}async compressImage(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1920,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;return new Promise(s=>{let t=document.createElement("canvas"),l=t.getContext("2d"),c=new Image;c.onload=()=>{let e=Math.min(r/c.width,r/c.height);t.width=c.width*e,t.height=c.height*e,l.drawImage(c,0,0,t.width,t.height),t.toBlob(s,"image/jpeg",a)},c.src=URL.createObjectURL(e)})}generateAttachmentId(){return"att_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}constructor(){this.dbName="SourcingSystemDB",this.version=1,this.db=null}}let t=new s},2687:(e,r,a)=>{Promise.resolve().then(a.bind(a,1952))},5393:()=>{},5947:()=>{},8419:()=>{}},e=>{e.O(0,[806,441,964,358],()=>e(e.s=2687)),_N_E=e.O()}]);