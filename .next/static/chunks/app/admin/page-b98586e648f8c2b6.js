(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{7896:(e,s,t)=>{Promise.resolve().then(t.bind(t,9784))},8606:()=>{},9784:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var a=t(5155),i=t(2115);t(8606);let n=()=>{let[e,s]=(0,i.useState)([]),[t,n]=(0,i.useState)([]),[c,d]=(0,i.useState)({totalEntries:0,totalUsers:0,pendingTasks:0,completedTasks:0});(0,i.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("qmsEntries")||"[]"),t=JSON.parse(localStorage.getItem("users")||"[]");s(e),n(t);let a=new Date,i=e.filter(e=>{let s=e.dueDate?new Date(e.dueDate):null;return s&&s>=a}).length,c=e.filter(e=>{let s=e.dueDate?new Date(e.dueDate):null;return s&&s<a}).length;d({totalEntries:e.length,totalUsers:t.length,pendingTasks:i,completedTasks:c})},[]);let l=new Date().toLocaleString("en-US",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d+)\/(\d+)\/(\d+),?\s*(\d+):(\d+):(\d+)/,"$3-$1-$2 $4:$5:$6"),r=(()=>{let s=[];return e.sort((e,s)=>new Date(s.date)-new Date(e.date)).slice(0,3).forEach((e,t)=>{let a=e.portalName||e.bidNumber||e.bidTitle||"QMS-".concat(e.id),i=new Date,n=e.dueDate?new Date(e.dueDate):null,c="active";n&&(n<i?c="completed":n<=new Date(i.getTime()+6048e5)&&(c="pending")),s.push({id:"qms-".concat(e.id),action:"New QMS entry: ".concat(a),user:e.hunterName||"MFakheem",time:e.date?new Date(e.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+", "+new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):l,status:c,type:"qms"})}),t.sort((e,s)=>new Date(s.createdAt||0)-new Date(e.createdAt||0)).slice(0,2).forEach(e=>{s.push({id:"user-".concat(e.id),action:"New user registered: ".concat(e.name),user:"MFakheem",time:e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+", "+new Date(e.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):l,status:"active",type:"user"})}),0===s.length&&s.push({id:"system-1",action:"System initialized successfully",user:"System",time:l.replace(/(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})/,"$2/$3/$1, $4:$5 PM"),status:"active",type:"system"},{id:"system-2",action:"Admin panel accessed",user:"MFakheem",time:l.replace(/(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})/,"$2/$3/$1, $4:$5 PM"),status:"active",type:"system"}),s.sort((e,s)=>new Date(s.time)-new Date(e.time)).slice(0,5)})();return(0,a.jsxs)("div",{className:"admin-panel",children:[(0,a.jsxs)("div",{className:"admin-header",children:[(0,a.jsx)("h1",{children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"admin-info",children:[(0,a.jsx)("span",{children:"Current User: MFakheem"}),(0,a.jsxs)("span",{children:["Last Updated: ",l," UTC"]})]})]}),(0,a.jsxs)("div",{className:"stats-grid",children:[(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsx)("div",{className:"stat-icon",children:"\uD83D\uDCCA"}),(0,a.jsxs)("div",{className:"stat-content",children:[(0,a.jsx)("h3",{children:"Total QMS Entries"}),(0,a.jsx)("p",{className:"stat-number",children:c.totalEntries})]})]}),(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsx)("div",{className:"stat-icon",children:"\uD83D\uDC65"}),(0,a.jsxs)("div",{className:"stat-content",children:[(0,a.jsx)("h3",{children:"Total Users"}),(0,a.jsx)("p",{className:"stat-number",children:c.totalUsers})]})]}),(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsx)("div",{className:"stat-icon",children:"⏳"}),(0,a.jsxs)("div",{className:"stat-content",children:[(0,a.jsx)("h3",{children:"Pending Tasks"}),(0,a.jsx)("p",{className:"stat-number",children:c.pendingTasks})]})]}),(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsx)("div",{className:"stat-icon",children:"✅"}),(0,a.jsxs)("div",{className:"stat-content",children:[(0,a.jsx)("h3",{children:"Completed Tasks"}),(0,a.jsx)("p",{className:"stat-number",children:c.completedTasks})]})]})]}),(0,a.jsxs)("div",{className:"admin-content",children:[(0,a.jsxs)("div",{className:"recent-activities",children:[(0,a.jsx)("h2",{children:"Recent Activities"}),(0,a.jsx)("div",{className:"activity-list",children:r.length>0?r.map(e=>(0,a.jsxs)("div",{className:"activity-item",children:[(0,a.jsxs)("div",{className:"activity-details",children:[(0,a.jsxs)("p",{className:"activity-action",children:[(0,a.jsx)("span",{className:"activity-icon",children:"qms"===e.type?"\uD83D\uDCCB":"user"===e.type?"\uD83D\uDC64":"⚙️"}),e.action]}),(0,a.jsxs)("p",{className:"activity-meta",children:["by ",(0,a.jsx)("strong",{children:e.user})," • ",e.time]})]}),(0,a.jsx)("span",{className:"activity-status ".concat(e.status.toLowerCase()),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]},e.id)):(0,a.jsxs)("div",{className:"no-activities",children:[(0,a.jsx)("p",{children:"No recent activities found"}),(0,a.jsx)("p",{children:"QMS entries and user actions will appear here"})]})})]}),(0,a.jsxs)("div",{className:"quick-actions",children:[(0,a.jsx)("h2",{children:"Quick Actions"}),(0,a.jsxs)("div",{className:"action-buttons",children:[(0,a.jsxs)("button",{className:"action-btn primary",onClick:()=>window.location.href="/qms",children:[(0,a.jsx)("span",{className:"btn-icon",children:"➕"}),"Add New Entry"]}),(0,a.jsxs)("button",{className:"action-btn secondary",onClick:()=>window.location.href="/admin/usermanagement",children:[(0,a.jsx)("span",{className:"btn-icon",children:"\uD83D\uDC64"}),"Manage Users"]}),(0,a.jsxs)("button",{className:"action-btn tertiary",onClick:()=>window.location.href="/admin/tracking-performance",children:[(0,a.jsx)("span",{className:"btn-icon",children:"\uD83D\uDCCA"}),"View Performance"]}),(0,a.jsxs)("button",{className:"action-btn quaternary",onClick:()=>window.print(),children:[(0,a.jsx)("span",{className:"btn-icon",children:"\uD83D\uDCCB"}),"Generate Report"]})]})]})]}),(0,a.jsxs)("div",{className:"system-info",children:[(0,a.jsx)("h2",{children:"System Information"}),(0,a.jsxs)("div",{className:"info-grid",children:[(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("label",{children:"System Status:"}),(0,a.jsx)("span",{className:"status-active",children:"Active"})]}),(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("label",{children:"Database:"}),(0,a.jsx)("span",{children:"LocalStorage (Browser)"})]}),(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("label",{children:"Current Environment:"}),(0,a.jsx)("span",{children:"Development"})]}),(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("label",{children:"Last Backup:"}),(0,a.jsxs)("span",{children:[l," UTC"]})]})]})]})]})}}},e=>{e.O(0,[199,441,964,358],()=>e(e.s=7896)),_N_E=e.O()}]);